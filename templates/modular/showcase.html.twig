{# Showcase modular template - Bootstrap Blog - Customs image filters are supported from Grav Twig Media Tools!** #}
{% set showcase_image_width  = page.header.image_width|defined(1200) %}
{% set showcase_image_height = page.header.image_height|defined(800) %}
{% set showcase_image_file = page.header.image_file %}
{% set showcase_image_actions = page.header.image_actions %}

{% if showcase_image_file %}
    {% set showcase_image = page.media.images[showcase_image_file] %}
{% else %}
    {% set showcase_image = page.media.images|first %}
{% endif %}

{% if showcase_image %}
    {% if showcase_image_actions %}
        {% for key, arg in showcase_image_actions %}
            {% set showcase_image = attribute( showcase_image, key, arg|split(',')|default([]) ) %}
        {% endfor %}
    {% else %}
        {% set showcase_image = showcase_image.cropResize(showcase_image_width,showcase_image_height).contrast(20).brightness(-80).gaussianBlur(1.5) %}
    {% endif %}
<div class="modular-row showcase bg-{{ page.header.style|defined('dark') }}" style="background-image: url({{ showcase_image.url }});">
    {% else %}
    <div class="modular-row box-inset-shadow showcase-text bg-{{ page.header.style|defined('light') }}">
        {% endif %}
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="content {{ 'text-' ~ page.header.text_align|defined('center') }}">
                        {{ content }}
                    </div>
                    {% if page.header.buttons %}
                    <div class="buttons text-{{ page.header.buttons_align|defined('center') }}">
                        {% for button in page.header.buttons %}
                            <a href="{{ button.url }}" 
                               class="btn btn-{{ button.size|defined('lg') }} btn-{{ (button.is_outline is same as(false) ? '' : 'outline-') ~ button.style|defined(page.header.style|defined('light')) }}">
                                {% if button.icon %}
                                    <i class="fas fa-{{ button.icon }}"></i>
                                {% endif %}
                                {{ button.text }}
                            </a>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
